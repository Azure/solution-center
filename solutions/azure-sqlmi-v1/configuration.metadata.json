{
    "$schema": "../../definitions/configuration.metadata.schema.json",
    "overviewContent": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut nec metus nec risus semper feugiat. Interdum et malesuada fames ac ante ipsum primis in faucibus. Morbi cursus blandit fermentum. Curabitur vestibulum efficitur nisl a lacinia. Quisque sit amet pulvinar arcu, nec feugiat lacus. Praesent sagittis lorem tortor, quis rhoncus elit ornare quis.",
    "documentationFileName": "sqlmi-docs.md",
    "associatedResources": [
        {
            "resourceType": "Microsoft.Network/PublicIpAddresses",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Network/networkinterfaces",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.DBforMySQL/flexibleServers",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Cache/Redis",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Network/applicationGateways",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Compute/virtualMachines",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Compute/virtualMachineScaleSets",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Storage/StorageAccounts",
            "type": "AzureResource"
        }
    ],
    "pivots": [
        {
            "name": "vmssCompute",
            "type": "AzureResource",
            "azureResourceType": "Microsoft.Compute/virtualMachineScaleSets"
        },
        {
            "name": "databasePivot",
            "type": "AzureResource",
            "azureResourceType": "Microsoft.DBforMySQL/servers"
        },
        {
            "name": "akvPivot",
            "type": "AzureResource",
            "azureResourceType": "Microsoft.Cache/Redis"
        }
    ],
    "configurations": [
        {
            "id": "base",
            "title": "Dev/Test instance",
            "subTitle": "A starter solution for quick setup with low-scale.",
            "cost": {
                "value": 110,
                "currency": "USD",
                "type": "absolute",
                "cadence": "monthly"
            },
            "maintenance": {
                "score": 1,
                "tooltip": "The expected maintenance overhead associated with managing this configuration."
            },
            "templateFileName": "azuredeploy.json",
            "uiDefinitionFileName": "azuredeploy-minimal-uidefinition.json",
            "pivotValues": [
                {
                    "pivotName": "vmssCompute",
                    "content": [
                        "Small autoscale web front VM sku 2 D1v2 (1 vCPU, 3.5 GB RAM) Scales to a max of 10 nodes",
                        "256 GiB SSD per node",
                        "Requires only 2 VM cores",
                        "Works with free trial subscriptions"
                    ]
                },
                        
                {
                    "pivotName": "storagePivot",
                    "content": [
                        "64 GiB Premium Files LSR"
                    ]
                },
                {
                    "pivotName": "cachingPivot",
                    "content": [
                        "N/A"
                    ]
                }
                
            ]
        },
        {
            "id": "small to mid-size",
            "title": "Small to Mid-Size",
            "subTitle": "Supporting up to 1,000 concurrent users.",
            "cost": {
                "value": 975,
                "currency": "USD",
                "type": "absolute",
                "cadence": "monthly"
            },
            "maintenance": {
                "score": 2,
                "tooltip": "The expected maintenance overhead associated with managing this configuration."
            },
            "templateFileName": "azuredeploy.json",
            "pivotValues": [
                {
                    "pivotName": "vmssCompute",
                    "content": [
                        "Standard_DS2_V2 VM which can scale to 10 nodes VMSS.", 
                        "256 GiB SSD per node",
                        "Standard_DS1_v2 controller VM"
                      
                    ]
                },
                {
                    "pivotName": "storagePivot",
                    "content": [
                        "512 GiB Premium Files LSR "
                    ]
                },
                {
                    "pivotName": "cachingPivot",
                    "content": [
                        "N/A"
                    ]
                }
               
            ]
        },
        {
            "id": "large",
            "title": "Full Production Workload",
            "subTitle": "This maximal deployment will use GlusterFS (in high availability, adding 2 VMs for a GlusterFS cluster), MySQL with the highest SKU, Redis Cache, and pretty large storage sizes (for both data disks and DB).",
            "cost": {
                "value": 5499,
                "currency": "USD",
                "type": "absolute",
                "cadence": "monthly"
            },
            "maintenance": {
                "score": 2,
                "tooltip": "The expected maintenance overhead associated with managing this configuration."
            },
            "templateFileName": "azuredeploy-maximum.json",
            "pivotValues": [
                {
                    "pivotName": "vmssCompute",
                    "content": [
                        "E16s_v3 (16 CPU vCores)"
                    ]
                },
                {
                    "pivotName": "storagePivot",
                    "content": [
                        "Business Critical", "8 CPU vCores", "56 GB RAM, Premium Series", "512 GB of disk space", "GRS Backup Storage"
                    ]
                },
                {
                    "pivotName": "cachingPivot",
                    "content": [
                        "Premium tier, 1 Shard per Instance",
                        "1 Additional Replica per Shard, 1 P1 instance"
                    ]
                }
                
            ]
        }
    ]
}