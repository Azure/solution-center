{
    "$schema": "../../definitions/configuration.metadata.schema.json",
    "overviewContent": "Lorem ipsum dolorf sit amet, consectetur adipiscing elit. Ut nec metus nec risus semper feugiat. Interdum et malesuada fames ac ante ipsum primis in faucibus. Morbi cursus blandit fermentum. Curabitur vestibulum efficitur nisl a lacinia. Quisque sit amet pulvinar arcu, nec feugiat lacus. Praesent sagittis lorem tortor, quis rhoncus elit ornare quis.",
    "documentationFileName": "sqlmi-docs.md",
    "associatedResources": [
        {
            "resourceType": "Microsoft.Network/PublicIpAddresses",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Network/networkinterfaces",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Sql/managedInstances",
            "type": "AzureResource",
            "displayName": "Azure SQL Managed Instance"
        },
        {
            "resourceType": "Microsoft.Network/applicationGateways",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.Compute/virtualMachines",
            "type": "AzureResource"
        },
        {
            "resourceType": "Microsoft.KeyVault/vaults",
            "type": "AzureResource"
        }
    ],
    "pivots": [
        {
            "name": "vmCompute",
            "type": "AzureResource",
            "azureResourceType": "Microsoft.Compute/virtualMachines"
        },
        {
            "name": "miPivot",
            "type": "AzureResource",
            "azureResourceType": "Microsoft.Sql/managedInstances"
        },
        {
            "name": "fogPivot",
            "type": "Custom",
            "azureResourceType": "Microsoft.Sql/managedInstances",
            "icon": {
                "iconNumber": 71,
                "iconType": "FrameworkIcon"
            }
        },
        {
            "name": "akvPivot",
            "type": "AzureResource",
            "azureResourceType": "Microsoft.KeyVault/vaults"
        }
    ],
    "configurations": [
        {
            "id": "base",
            "title": "Dev/Test instance",
            "subTitle": "A starter solution for quick setup with low-scale.",
            "cost": {
                "value": 1055,
                "currency": "USD",
                "type": "absolute",
                "cadence": "monthly"
            },
            "maintenance": {
                "score": 1,
                "tooltip": "The expected maintenance overhead associated with managing this configuration."
            },
            "templateFileName": "azuredeploy-minimal.json",
            "pivotValues": [
                {
                    "pivotName": "vmCompute",
                    "content": [
                        "D4s v3 (4 CPU vCores)"
                    ]
                },
                        
                {
                    "pivotName": "miPivot",
                    "content": [
                        "General Purpose", "4 CPU vCores", "20 GB RAM", "Standard Series, 32 GB of disk space", "LRS Backup Storage"
                    ]
                },

                {
                    "pivotName": "fogPivot",
                    "content": [
                        "N/A"
                    ]
                },
                        
                {
                    "pivotName": "akvPivot",
                    "content": [
                        "Standard"
                    ]
                }
                
            ]
        },
        {
            "id": "small to mid-size",
            "title": "Small to Mid-Size",
            "subTitle": "Small to Medium-sized production workload, that does not require the highest availability or very high number of concurrent users",
            "cost": {
                "value": 2125,
                "currency": "USD",
                "type": "absolute",
                "cadence": "monthly"
            },
            "maintenance": {
                "score": 2,
                "tooltip": "The expected maintenance overhead associated with managing this configuration."
            },
            "templateFileName": "azuredeploy-mid.json",
            "pivotValues": [
                {
                    "pivotName": "vmCompute",
                    "content": [
                        "D8s_v3 (8 CPU vCores)"
                    ]
                },
                        
                {
                    "pivotName": "miPivot",
                    "content": [
                        "General Purpose", "8 CPU vCores", "40 GB RAM", "Standard Series, 128 GB of disk space", "GRS Backup Storage"
                    ]
                },
                {
                    "pivotName": "fogPivot",
                    "content": [
                        "Available"
                    ]
                },     
                {
                    "pivotName": "akvPivot",
                    "content": [
                        "Standard"
                    ]
                }
               
            ]
        },
        {
            "id": "large",
            "title": "Full Production Workload",
            "subTitle": "This maximal deployment will use GlusterFS (in high availability, adding 2 VMs for a GlusterFS cluster), MySQL with the highest SKU, Redis Cache, and pretty large storage sizes (for both data disks and DB).",
            "cost": {
                "value": 6400,
                "currency": "USD",
                "type": "absolute",
                "cadence": "monthly"
            },
            "maintenance": {
                "score": 3,
                "tooltip": "The expected maintenance overhead associated with managing this configuration."
            },
            "templateFileName": "azuredeploy-max.json",
            "pivotValues": [
                {
                    "pivotName": "vmCompute",
                    "content": [
                        "E32s_v3 (32 CPU vCores)"
                    ]
                },
                        
                {
                    "pivotName": "miPivot",
                    "content": [
                        "General Purpose", "16 CPU vCores", "112 GB RAM", "Premium Series, 512 GB of disk space", "GRS Backup Storage"
                    ]
                },
                {
                    "pivotName": "fogPivot",
                    "content": [
                        "Available"
                    ]
                },    
                {
                    "pivotName": "akvPivot",
                    "content": [
                        "Standard"
                    ]
                }
                
            ]
        }
    ]
}